# 更新日志 v1.8.7

## 🎨 UI 改进

- **全新的文件夹选择对话框**：采用类似 Windows 资源管理器的现代化界面
  - 🗂️ **树形快速访问面板**：左侧快速访问面板改为可折叠的树形结构，分为"快速访问"、"收藏夹"和"此电脑"三个分组
  - ⭐ **文件夹收藏功能**：点击文件夹旁的星星图标即可收藏，收藏的文件夹会显示在快速访问面板的"收藏夹"分组中
  - 📍 **从系统读取路径**：自动从 Windows 注册表读取真实的快速访问文件夹路径，更加准确
  - 🧭 **面包屑导航**：顶部显示可点击的路径导航，快速跳转到任意上级目录
  - ⏮️ **导航历史**：支持后退/前进按钮，浏览文件夹历史记录
  - 📂 **嵌套式浏览**：只显示当前目录内容，双击进入子文件夹，更符合使用习惯
  - ✏️ **路径编辑模式**：点击地址栏的编辑按钮可切换到路径输入模式，支持手动输入路径
  - 💾 **显示驱动器卷标**：自动获取并显示驱动器的卷标名称（需要 pywin32）
  - 🎯 **智能文件夹发现**：自动发现用户目录下的常用文件夹，并排除系统文件夹

- **统一使用新对话框**：
  - ✅ 主界面的"添加文件夹"功能
  - ✅ 编辑器的"添加文件夹"功能

## 🔧 功能优化

- **翻译导入功能增强**：
  - 支持紧凑JSON格式和模板格式的翻译文件解析
  - 自动检测并解析不同格式的翻译文件（单行或多行）
  - 修复导入翻译时translation为空导致渲染无文字的问题
  - 修复正则表达式无法匹配translated字段的问题
  - 在load_text模式下，如果translation为空会自动使用原文渲染

- **配置管理优化**：
  - 收藏文件夹统一通过config_service管理，保存在config.json中
  - config_service在保存配置时会保留favorite_folders字段
  - config-example.json模板文件不会包含favorite_folders，保持干净

## 升级方法

已安装用户：双击 `步骤4-更新维护.bat` → 选择"完整更新"
